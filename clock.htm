<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>時計・天気・カレンダー表示</title>

<style>
/* ===== 全体 ===== */
body {
  margin: 0;
  font-family: "Segoe UI","Hiragino Sans","Meiryo",sans-serif;
  background: #000;
  color: #fff;
  padding-top: 180px;
}

/* ===== 上部バー ===== */
#top-bar {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 260px;
  display: flex;
  gap: 20px;
  padding: 15px 20px;
  box-sizing: border-box;
  background: #000;
  z-index: 100;
}

/* ===== カレンダー ===== */
#calendar-container {
  flex: 0 0 30%;
  background: #000;
  border-radius: 12px;
  padding: 10px;
  box-shadow: inset 0 0 15px rgba(255,255,255,0.1);
  overflow: auto;
}

table {
  width: 100%;
  border-collapse: collapse;
  text-align: center;
}

th {
  background: #111;
  padding: 4px;
  font-weight: normal;
}

td {
  padding: 6px;
  border: 1px solid #333;
}

td.today {
  background: #444;
  font-weight: bold;
}

/* ===== 天気 ===== */
#weather {
  flex: 0 0 300px;
  display: flex;
  align-items: center;
  gap: 10px;
  background: rgba(0,0,0,0.6);
  padding: 10px;
  border-radius: 10px;
  box-shadow: inset 0 0 10px rgba(255,255,255,0.1);
}

#weather img {
  width: 128px;
  height: 128px;
}

#weather-temp {
  font-size: 1.8em;
  font-weight: bold;
}

#weather-desc {
  font-size: 1.2em;
  color: #ccc;
}
  
#weather-range {
  font-size: 0.85em;
  color: #ccc;
}
/* ===== アナログ時計 ===== */
.clock {
  width: 128px;
  height: 128px;
  border-radius: 50%;
  background: radial-gradient(circle, #111 60%, #000 100%);
  border: 4px solid #222;
  position: relative;
  box-shadow:
    inset 0 0 10px rgba(255,255,255,0.1),
    0 0 15px rgba(0,0,0,0.8);
  transform: scale(1.5, 1.5);
  transform-origin: center;
  margin-top: 30px;
  margin-right: -150px;
}

/* インデックス */
.clock span {
  position: absolute;
  width: 100%;
  height: 100%;
  transform: rotate(calc(30deg * var(--i)));
}
.clock span::before {
  content: "";
  position: absolute;
  top: 8px;
  left: 50%;
  width: 2px;
  height: 10px;
  background: #ddd;
  transform: translateX(-50%);
}

/* 針 */
.hand {
  position: absolute;
  bottom: 50%;
  left: 50%;
  transform-origin: bottom;
  transform: translateX(-50%);
}

.hour   { width: 3px;   height: 30px; background: #fff; }
.minute { width: 2px;   height: 42px; background: #ccc; }
.second { width: 1.5px; height: 38px; background: #d32f2f; }

/* 秒針先端（縦に扁平な楕円） */
.second::after {
  content: "";
  position: absolute;
  top: -6px;
  left: 50%;
  width: 14px;
  height: 8px;
  background: #d32f2f;
  border-radius: 50%;
  transform: translateX(-50%) scale(1,1.66);
}

/* 中央 */
.center {
  position: absolute;
  width: 6px;
  height: 6px;
  background: #fff;
  border-radius: 50%;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
}

/* ===== デジタル（左下） ===== */
#digital {
  position: fixed;
  left: 20px;
  bottom: 20px;
  font-family: monospace;
}

#digital-time {
  font-size: 22em;
  font-weight: bold;
}

#digital-date {
  font-size: 1em;
  color: #ccc;
}
</style>
</head>

<body>

<!-- 上部バー -->
<div id="top-bar">
  <div id="calendar-container"></div>

  <div id="weather">
    <img id="weather-icon" alt="weather">
    <div>
      <div id="weather-temp">--℃</div>
      <div id="weather-range"></div>
      <div id="weather-desc">--</div>
    </div>
  </div>

  <div class="clock">
    <div class="hand hour" id="hour"></div>
    <div class="hand minute" id="minute"></div>
    <div class="hand second" id="second"></div>
    <div class="center"></div>

    <span style="--i:1"></span><span style="--i:2"></span><span style="--i:3"></span>
    <span style="--i:4"></span><span style="--i:5"></span><span style="--i:6"></span>
    <span style="--i:7"></span><span style="--i:8"></span><span style="--i:9"></span>
    <span style="--i:10"></span><span style="--i:11"></span><span style="--i:12"></span>
  </div>
</div>

<!-- デジタル -->
<div id="digital">
  <div id="digital-time"></div>
  <div id="digital-date"></div>
</div>

<script>
/* ===== アナログ時計（+10分） ===== */
function updateAnalogClock() {
  const now = new Date();
  const plus10 = new Date(now.getTime() + 10 * 60 * 1000);

  const sec = plus10.getSeconds();
  const min = plus10.getMinutes();
  const hour = plus10.getHours();

  document.getElementById("second").style.transform =
    `translateX(-50%) rotate(${sec * 6}deg)`;
  document.getElementById("minute").style.transform =
    `translateX(-50%) rotate(${min * 6 + sec * 0.1}deg)`;
  document.getElementById("hour").style.transform =
    `translateX(-50%) rotate(${hour * 30 + min * 0.5}deg)`;
}
setInterval(updateAnalogClock, 1000);
updateAnalogClock();

/* ===== デジタル時計（+10分 / 秒なし / 中国語日付） ===== */
function updateDigitalClock() {
  const now = new Date();
  const plus10 = new Date(now.getTime() + 10 * 60 * 1000);

  document.getElementById("digital-time").textContent =
    plus10.toLocaleTimeString('ja-JP', {
      hour12: false,
      hour: '2-digit',
      minute: '2-digit'
    });

/* document.getElementById("digital-date").textContent =
    plus10.toLocaleDateString('zh-CN', {
      year: '2-digit',
      month: '2-digit',
      day: '2-digit',
      weekday: 'short'
    }); */
}
setInterval(updateDigitalClock, 1000);
updateDigitalClock();

/* ===== カレンダー ===== */
function generateCalendar(y, m) {
  const c = document.getElementById("calendar-container");
  c.innerHTML = "";

  const h = document.createElement("h3");
  h.textContent = `${String(y).slice(-2)}年 ${m}月`;
  //c.appendChild(h);

  const t = document.createElement("table");
  const days = ['日','月','火','水','木','金','土'];
  let r = document.createElement("tr");

  days.forEach(d => {
    const th = document.createElement("th");
    th.textContent = d;
    r.appendChild(th);
  });
  t.appendChild(r);

  const fd = new Date(y, m - 1, 1).getDay();
  const ld = new Date(y, m, 0).getDate();
  r = document.createElement("tr");

  for (let i = 0; i < fd; i++) r.appendChild(document.createElement("td"));

  for (let d = 1; d <= ld; d++) {
    const td = document.createElement("td");
    td.textContent = d;

    const today = new Date();
    if (d === today.getDate() &&
        m === today.getMonth() + 1 &&
        y === today.getFullYear()) {
      td.classList.add("today");
    }

    r.appendChild(td);
    if ((fd + d) % 7 === 0) {
      t.appendChild(r);
      r = document.createElement("tr");
    }
  }
  t.appendChild(r);
  c.appendChild(t);
}

const now = new Date();
generateCalendar(now.getFullYear(), now.getMonth() + 1);

/* ===== 天気（東京） ===== */
async function loadTokyoWeather() {
  const API_KEY = "579376d4a1533024ba302c945c6555d6";
  const url =
    `https://api.openweathermap.org/data/2.5/weather` +
    `?q=Tokyo,jp&units=metric&lang=ja&appid=${API_KEY}`;

  try {
    const res = await fetch(url);
    const data = await res.json();

    const temp = Math.round(data.main.temp);
    const tempMin = Math.round(data.main.temp_min);
    const tempMax = Math.round(data.main.temp_max);

    document.getElementById("weather-temp").textContent =
      `${temp}℃`;

    document.getElementById("weather-range").textContent =
      `最高 ${tempMax}℃ / 最低 ${tempMin}℃`;

    document.getElementById("weather-desc").textContent =
      data.weather[0].description;

    document.getElementById("weather-icon").src =
      `https://openweathermap.org/img/wn/${data.weather[0].icon}@2x.png`;

  } catch (e) {
    document.getElementById("weather-desc").textContent = "取得失敗";
  }
}

loadTokyoWeather();
setInterval(loadTokyoWeather, 30 * 60 * 1000);
</script>

</body>
</html>







